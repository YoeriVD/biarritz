<!--The content below is only a placeholder and can be replaced.-->
<div class="container">
  <header>
    <h1>
      Hi {{ person }}!
    </h1>
  </header>
  <section class="card mb-5">
    <header class="card-header">
      <h5>Adding a new expense</h5>
    </header>
    <form class="card-body" [formGroup]="expenseForm" (ngSubmit)="addExpense()">
      <div class="form-group row">
        <label class="col-4" for="">Description</label>
        <input class="col-8 form-control" required type="text" placeholder="description" formControlName="description">
        <div class="text-danger invalid-feedback">
            Please provide a valid city.
          </div>
      </div>
      <div class="form-group row">
        <label class="col-4" for="">Amount</label>
        <input class="col-8 form-control" type="number" formControlName="amount">
      </div>
      <div class="form-group row">
        <label class="col-4" for="">Date</label>
        <input class="col-8 form-control" type="date" formControlName="date">
      </div>
      <button class="btn btn-primary sd-btn" type="submit">add expense</button>
    </form>
  </section>
  <section class="card">
    <header class="card-header">
      <h5>This is my list of expenses</h5>
    </header>
    <div class="card-body">
        <input class="form-control" type="search" placeholder="Search in the list.." [formControl]="search" /> {{searchValue}}
    </div>
    <table class="table table-hover mb-0">
      <thead>
        <tr>
          <th>description</th>
          <th>date</th>
          <th>amount</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let expense of expenses | search : (search.valueChanges | async)" [hidden]="expense.hidden" [class.expensive]="expense.amount > 500">
          <td>{{ expense.description }}</td>
          <td>{{ expense.date | date }}</td>
          <td>{{ expense.amount | currency : 'EUR'  }}</td>
          <td>
            <a href="#" (click)="deleteExpense(expense)">delete</a>
          </td>
        </tr>
      </tbody>
    </table>

  </section>

</div>